(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{132:function(e,a,t){},133:function(e,a,t){"use strict";t.r(a);var r=t(0),n=t.n(r),i=t(8),c=t.n(i),o=(t(97),t(179)),l=t(40),s=t(32),d=t(13),m=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"SET_IS_AUTHENTICATED":return a.status;default:return e}},u=t(25),p={isFetching:!1,data:null,errors:null},g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"FETCH_USER_REQUEST":return Object(u.a)({},e,{isFetching:!0});case"FETCH_USER_SUCCESS":return{isFetching:!1,data:a.data,errors:null};case"FETCH_USER_FAILURE":return{isFetching:!1,data:null,errors:a.errors};default:return e}},b=n.a.createContext(),E=function(e){var a=window.localStorage.getItem("isAuthenticated")||!1,t=window.localStorage.getItem("userInfor")||null,i=Object(r.useReducer)(m,a),c=Object(d.a)(i,2),o=c[0],l=c[1],s=Object(r.useReducer)(g,t),u=Object(d.a)(s,2),p={isAuthenticated:o,user:u[0],dispatchIsAuthenticated:l,dispatchUser:u[1]};return n.a.createElement(b.Provider,Object.assign({value:p},e))},h=t(85),f=Object(h.a)({typography:{fontFamily:'"Roboto"',fontSize:12,h1:{},button:{textTransform:"none"}},palette:{primary:{main:"#DF1B1B"}}}),v=t(12),x={cards:{"card-1":{id:"card-1",title:"Study Math",deadline:"07/04/2020",tag:"green",description:"lorem ipsum"},"card-2":{id:"card-2",title:"Go to School",deadline:"07/04/2020",tag:"green",description:"lorem ipsum"},"card-3":{id:"card-3",title:"Do your Homework",deadline:"07/04/2020",tag:"green",description:"lorem ipsum"},"card-4":{id:"card-4",title:"Eat your veggies",deadline:"07/04/2020",tag:"green",description:"lorem ipsum"},"card-5":{id:"card-5",title:"Extra Activity",deadline:"07/04/2020",tag:"green",description:"lorem ipsum"},"card-6":{id:"card-6",title:"Find a hobby",deadline:"07/04/2020",tag:"green",description:"lorem ipsum"},"card-7":{id:"card-7",title:"Write Notes",deadline:"07/04/2020",tag:"green",description:"lorem ipsum"},"card-8":{id:"card-8",title:"Refer library",deadline:"07/04/2020",tag:"green",description:"lorem ipsum"}},columns:{"column-1":{id:"column-1",title:"Backlog",cardIds:["card-1","card-2","card-3","card-4"]},"column-2":{id:"column-2",title:"In Progress",cardIds:["card-5","card-6","card-7","card-8"]},"column-3":{id:"column-3",title:"Review",cardIds:[]},"column-4":{id:"column-4",title:"Completed",cardIds:[]}},columnOrder:["column-1","column-2","column-3","column-4"]},w=t(165),S=t(168),y=t(169),O=t(170),j=t(171),I=t(81),N=t.n(I),C=Object(w.a)(function(e){return{appBar:{background:"#759CFC",boxShadow:"none"},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1}}}),R=function(){var e=C();return n.a.createElement(S.a,{position:"static",className:e.appBar},n.a.createElement(y.a,null,n.a.createElement(O.a,{variant:"h6",className:e.title},"My School Board"),n.a.createElement(j.a,{edge:"start",className:e.menuButton,color:"inherit","aria-label":"menu"},n.a.createElement(N.a,null))))},T=t(31),F=t(172),k=t(173),A=Object(w.a)(function(e){return{card:{margin:"auto",width:"280px",marginBottom:"10px"},cardTitle:{fontSize:14,fontWeight:700},tag:{height:"7px",width:"45px",background:"#5ACD76",borderRadius:"5px",marginBottom:"10px"}}}),U=function(e){var a=e.card,t=e.index,r=A();return n.a.createElement(T.b,{draggableId:a.id,index:t},function(e){return n.a.createElement(F.a,Object.assign({className:r.card},e.draggableProps,e.dragHandleProps,{ref:e.innerRef}),n.a.createElement(k.a,null,n.a.createElement("div",{className:r.tag}),n.a.createElement(O.a,{className:r.cardTitle,gutterBottom:!0},a.title),n.a.createElement(O.a,{color:"textSecondary"},a.deadline)))})},_=t(174),B=t(87),P=t(175),H=Object(w.a)(function(e){return{paper:{height:550,width:320,background:"#F4F6FF",boxShadow:"none",position:"relative",marginRight:"20px"},column:{marginLeft:"25px",paddingTop:"20px"},columnTitle:{display:"flex",alignItems:"center"},icon:{marginLeft:"150px",marginTop:"20px",padding:"20px",cursor:"pointer"},cardSection:{height:410,overflow:"hidden",overflowY:"scroll","&::-webkit-scrollbar":{display:"none"}},addCard:{background:"#759CFC",color:"white",boxShadow:"none",position:"absolute",bottom:20,left:20,"&:hover":{background:"#759CFC"}}}}),D=function(e){var a=e.column,t=e.cards,r=e.index,i=H();return n.a.createElement(T.b,{draggableId:a.id,index:r},function(e){return n.a.createElement(_.a,Object.assign({key:a.id,item:!0},e.draggableProps,{ref:e.innerRef}),n.a.createElement(B.a,{className:i.paper},n.a.createElement("div",Object.assign({className:i.columnTitle},e.dragHandleProps),n.a.createElement(O.a,{variant:"h6",className:i.column},a.title),n.a.createElement("div",{className:i.icon},n.a.createElement("i",{className:"fas fa-ellipsis-h",style:{color:"#D7DDF8"}}))),n.a.createElement(T.c,{droppableId:a.id,type:"card"},function(e){return n.a.createElement("div",Object.assign({className:i.cardSection},e.droppableProps,{ref:e.innerRef}),t.map(function(e,a){return n.a.createElement(U,{key:e.id,card:e,index:a})}),e.placeholder)}),n.a.createElement(P.a,{variant:"contained",className:i.addCard},"Add Card")))})},L=Object(w.a)(function(e){return{grid:{marginTop:"40px",marginLeft:"20px",display:"flex"},container:{width:"100%",maxWidth:"1370px",overflowX:"scroll",overflow:"hidden",margin:"0 auto",paddingBottom:"17px","&::-webkit-scrollbar":{display:"none"}}}}),W=function(){var e=L(),a=Object(r.useState)(x),t=Object(d.a)(a,2),i=t[0],c=t[1];return n.a.createElement("div",null,n.a.createElement(R,null),n.a.createElement(T.a,{onDragEnd:function(e){var a,t=e.destination,r=e.source,n=e.draggableId,o=e.type;if(t&&(t.droppableId!==r.droppableId||t.index!==r.index)){if("column"===o){var l=Array.from(i.columnOrder);return l.splice(r.index,1),l.splice(t.index,0,n),void c(Object(u.a)({},i,{columnOrder:l}))}var s=i.columns[r.droppableId],d=i.columns[t.droppableId];if(s!==d){var m=Array.from(s.cardIds);m.splice(r.index,1);var p=Object(u.a)({},s,{cardIds:m}),g=Array.from(d.cardIds);g.splice(t.index,0,n);var b=Object(u.a)({},d,{cardIds:g});c(Object(u.a)({},i,{columns:Object(u.a)({},i.columns,(a={},Object(v.a)(a,p.id,p),Object(v.a)(a,b.id,b),a))}))}else{var E=Array.from(s.cardIds);E.splice(r.index,1),E.splice(t.index,0,n);var h=Object(u.a)({},s,{cardIds:E});c(Object(u.a)({},i,{columns:Object(u.a)({},i.columns,Object(v.a)({},h.id,h))}))}}}},n.a.createElement(T.c,{droppableId:"all-columns",direction:"horizontal",type:"column"},function(a){return n.a.createElement("div",Object.assign({className:e.container},a.droppableProps,{ref:a.innerRef}),n.a.createElement("div",{className:e.grid},i.columnOrder.map(function(e,a){var t=i.columns[e],r=t.cardIds.map(function(e){return i.cards[e]});return n.a.createElement(D,{key:t.id,column:t,cards:r,index:a})})),a.placeholder)})))},q=t(86),z=t(178),J=t(176),G=t(177),M=t(33),Q=function(e){var a=Object(q.a)(),t=a.handleSubmit,r=a.register,i=a.errors,c=Object(w.a)(M.authStyle.form)();return n.a.createElement(z.a,{component:"form",className:c.root,onSubmit:t(e.onSubmit)},n.a.createElement(O.a,{align:"center",className:c.title},e.title),n.a.createElement(J.a,{error:!0,className:c.error},e.serverResponse,i.email&&i.email.message+". ",i.password&&i.password.message),n.a.createElement(G.a,{name:"email",variant:"outlined",type:"text",label:e.input1,className:c.input,inputRef:r({required:"Email is required",pattern:{value:/^\S+@\S+$/i,message:"Invalid email address"}}),error:i.email}),n.a.createElement(G.a,{name:"password",variant:"outlined",type:"password",label:e.input2,className:c.input,inputRef:r({required:"Password is required",minLength:{value:6,message:"Password needs 6 characters at least"}}),error:i.password}),n.a.createElement(P.a,{color:"primary",className:c.button,variant:"contained",type:"submit"}," ",e.submit))},$=function(e){var a=Object(w.a)(M.authStyle.div)();return n.a.createElement(z.a,{component:"div",className:a.root},n.a.createElement(O.a,{className:a.margin},e.title),n.a.createElement(l.b,{to:e.link},n.a.createElement(O.a,null,e.desc)))},K=t(53),X=t.n(K),Y=function(){var e=Object(s.e)(),a=Object(r.useState)(""),t=Object(d.a)(a,2),i=t[0],c=t[1],o=Object(w.a)(M.authStyle)();return n.a.createElement(_.a,{container:!0,className:o.vh100},n.a.createElement(_.a,{item:!0,md:6,xs:12},n.a.createElement("img",{alt:"",src:"/images/image1.png",width:"100%",height:"100%"})),n.a.createElement(_.a,{item:!0,md:6,xs:12},n.a.createElement(Q,{title:"Sign up to Kanban",input1:"Enter email",input2:"Create Password",submit:"Sign up",onSubmit:function(a){var t=a.email,r=a.password;console.log(t,r);X.a.post("/api/v1/auth/register",{email:t,password:r}).then(function(a){200===a.status?e.push("/login"):c(a.data.error)}).catch(function(e){c(e.response.data.error)})},serverResponse:i}),n.a.createElement($,{title:"Already have an account?",link:"/login",desc:"Login"})))},V=function(){var e=n.a.useContext(b),a=e.dispatchIsAuthenticated,t=e.dispatchUser,i=Object(r.useState)(""),c=Object(d.a)(i,2),o=c[0],l=c[1],m=Object(s.e)(),u=Object(w.a)(M.authStyle)();return n.a.createElement(_.a,{container:!0,className:u.vh100},n.a.createElement(_.a,{item:!0,md:6,xs:12},n.a.createElement("img",{alt:"",src:"/images/image1.png",width:"100%",height:"100%"})),n.a.createElement(_.a,{item:!0,md:6,xs:12},n.a.createElement(Q,{title:"Welcome back!",input1:"Enter email",input2:"Password",submit:"Log in",onSubmit:function(e){var r=e.email,n=e.password;l("");t({type:"FETCH_USER_REQUEST"}),X.a.post("/api/v1/auth/login",{email:r,password:n}).then(function(e){200===e.status?(localStorage.setItem("isAuthenticated",!0),localStorage.setItem("user",JSON.stringify(e.data.user)),a({type:"SET_IS_AUTHENTICATED",status:!0}),t({type:"FETCH_USER_SUCCESS",data:e.data.user}),console.log("login successfully"),m.push("/")):(console.log(e),l(e.data.error))}).catch(function(e){t({type:"FETCH_USER_FAILURE",errors:e.response.data.user}),l(e.response.data.error),console.log(e.response.data.error)})},serverResponse:o}),n.a.createElement($,{title:"Don't have an account?",link:"/signup",desc:"Create"})))};t(132);var Z=function(){return n.a.createElement(o.a,{theme:f},n.a.createElement(E,null,n.a.createElement(l.a,null,n.a.createElement(s.a,{exact:!0,path:"/",component:W}),n.a.createElement(s.a,{exact:!0,path:"/signup",component:Y}),n.a.createElement(s.a,{exact:!0,path:"/login",component:V}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(n.a.createElement(Z,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},33:function(e,a){},92:function(e,a,t){e.exports=t(133)},97:function(e,a,t){}},[[92,1,2]]]);
//# sourceMappingURL=main.247a1aa7.chunk.js.map